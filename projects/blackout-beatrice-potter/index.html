<!DOCTYPE html><html lang="en"><head><meta charSet="utf-8"/><meta http-equiv="x-ua-compatible" content="ie=edge"/><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"/><style data-href="/blog/styles.fdaca80c1f1905857403.css" id="gatsby-global-css">article h1{-webkit-transform:none;transform:none}h1{-webkit-transform:rotate(-7deg);transform:rotate(-7deg);margin-bottom:1.5;margin-top:0;color:#000;font-family:Times New Roman,Times,serif}h1 a{box-shadow:2px 4px 3px grey;font-size:10;padding:3px 20px;border:1px solid #000}h1 a,header h3{color:#000;font-family:Times New Roman,Times,serif;text-decoration:none}header h3{margin-top:2em;-webkit-transform:rotate(2deg);transform:rotate(2deg);font-weight:400}article h3{margin-top:.2em;-webkit-transform:rotate(-2deg);transform:rotate(-2deg);color:#000;font-family:Times New Roman,Times,serif;font-weight:400;text-decoration:none}.blog{padding-left:.5em;padding-right:.5em}small{color:#a9a9a9}.gatsby-resp-image-link{border-style:none;box-shadow:none}figcaption{font-style:italic;text-align:center}a{box-shadow:2px 4px 3px grey;color:#000;font-family:Times New Roman,Times,serif;font-size:10;text-decoration:none;padding:3px 20px;border:1px solid #000;margin:1em .5em;display:inline-block}footer{text-align:right}code{width:100%;display:inline-block;overflow:scroll}</style><meta name="generator" content="Gatsby 2.32.13"/><link rel="alternate" type="application/rss+xml" href="/blog/rss.xml"/><link rel="icon" href="/blog/favicon-32x32.png?v=ccc867e94c0d297ba2da964ff14b189b" type="image/png"/><link rel="manifest" href="/blog/manifest.webmanifest" crossorigin="anonymous"/><meta name="theme-color" content="#663399"/><link rel="apple-touch-icon" sizes="48x48" href="/blog/icons/icon-48x48.png?v=ccc867e94c0d297ba2da964ff14b189b"/><link rel="apple-touch-icon" sizes="72x72" href="/blog/icons/icon-72x72.png?v=ccc867e94c0d297ba2da964ff14b189b"/><link rel="apple-touch-icon" sizes="96x96" href="/blog/icons/icon-96x96.png?v=ccc867e94c0d297ba2da964ff14b189b"/><link rel="apple-touch-icon" sizes="144x144" href="/blog/icons/icon-144x144.png?v=ccc867e94c0d297ba2da964ff14b189b"/><link rel="apple-touch-icon" sizes="192x192" href="/blog/icons/icon-192x192.png?v=ccc867e94c0d297ba2da964ff14b189b"/><link rel="apple-touch-icon" sizes="256x256" href="/blog/icons/icon-256x256.png?v=ccc867e94c0d297ba2da964ff14b189b"/><link rel="apple-touch-icon" sizes="384x384" href="/blog/icons/icon-384x384.png?v=ccc867e94c0d297ba2da964ff14b189b"/><link rel="apple-touch-icon" sizes="512x512" href="/blog/icons/icon-512x512.png?v=ccc867e94c0d297ba2da964ff14b189b"/><title data-react-helmet="true">beatrice potter poetry blackout | fridge notes</title><meta data-react-helmet="true" name="description" content="blackout poetry using beatrice potter&#x27;s children&#x27;s books. this was also an experiment in using glitch as a backend server for lightweight flask applications."/><meta data-react-helmet="true" property="og:title" content="beatrice potter poetry blackout"/><meta data-react-helmet="true" property="og:description" content="blackout poetry using beatrice potter&#x27;s children&#x27;s books. this was also an experiment in using glitch as a backend server for lightweight flask applications."/><meta data-react-helmet="true" property="og:type" content="website"/><meta data-react-helmet="true" name="twitter:card" content="summary"/><meta data-react-helmet="true" name="twitter:creator" content="samheckle"/><meta data-react-helmet="true" name="twitter:title" content="beatrice potter poetry blackout"/><meta data-react-helmet="true" name="twitter:description" content="blackout poetry using beatrice potter&#x27;s children&#x27;s books. this was also an experiment in using glitch as a backend server for lightweight flask applications."/><link as="script" rel="preload" href="/blog/webpack-runtime-d229948c5c9eedd36cc6.js"/><link as="script" rel="preload" href="/blog/framework-dbb498007a7447f28d8e.js"/><link as="script" rel="preload" href="/blog/app-22e8d967b4d0a2ad740f.js"/><link as="script" rel="preload" href="/blog/styles-e9d24b1846c7d6eb9685.js"/><link as="script" rel="preload" href="/blog/commons-b8c95257fc58db9d1d01.js"/><link as="script" rel="preload" href="/blog/component---src-templates-blog-post-js-f63130200fa67a8a732c.js"/><link as="fetch" rel="preload" href="/blog/page-data/projects/blackout-beatrice-potter/page-data.json" crossorigin="anonymous"/><link as="fetch" rel="preload" href="/blog/page-data/sq/d/2841359383.json" crossorigin="anonymous"/><link as="fetch" rel="preload" href="/blog/page-data/sq/d/3257411868.json" crossorigin="anonymous"/><link as="fetch" rel="preload" href="/blog/page-data/app-data.json" crossorigin="anonymous"/></head><body><div id="___gatsby"><div style="outline:none" tabindex="-1" id="gatsby-focus-wrapper"><div style="margin-left:auto;margin-right:auto;max-width:60%;padding:1.5 0.75"><header><h3><a href="/blog/">fridge notes</a></h3></header><main><article><header><h1 style="margin-top:1px;margin-bottom:0">beatrice potter poetry blackout</h1><p style="display:block;margin-bottom:1px">May 09, 2022</p></header><section><p><a href="http://samheckle.com/hosted/gen-blackout-poetry/">try it out here!</a></p>
<p><a href="https://glitch.com/edit/#!/planet-green-flute">server code</a>
<a href="https://github.com/samheckle/rwet/blob/master/final/main.js">client code</a></p>
<h2>inspiration</h2>
<p>initially i was inspired by my assignment 2 where i did a cut up of beatrice potter’s written work. so, in a similar vein, i created a piece that combines this cut up with fridge magnet poetry.</p>
<p><a href="https://github.com/samheckle/rwet/blob/master/assignment-2/assignment-2.ipynb">my original cut up</a></p>
<p>what i also wanted to experiment with hosting on glitch and using it as a server to make REST api calls to.</p>
<p>for me, i have always loved magnet poetry and every apartment i have ever lived in has had some sort of poetry that i build semi-regularly. combining the nostalgia of home with my childhood memories of beatrice potter allowed me to find space to feel those emotions again.</p>
<h2>process</h2>
<p>what i first did was make sure i could get the server working.
<a href="https://glitch.com/edit/#!/planet-green-flute">it is hosted here</a></p>
<p>i was having a series of issues with Cross-Origin Resource Sharing (CORS) which is a security protocol that a browser takes to ensure that no compromising requests are being made to the server. the problem is that it also limits resource-sharing between your local machine and any resources you need to access on a remote server. </p>
<p>there were two solutions i tried:</p>
<ol>
<li>installing an extension to my browser to remove that particular security requirement
<a href="https://addons.mozilla.org/en-US/firefox/addon/access-control-allow-origin/">here is the firefox extension</a></li>
<li>changing my python / flask server to accept all CORS
<a href="https://dev.to/matheusguimaraes/fast-way-to-enable-cors-in-flask-servers-42p0">i followed this tutorial</a>
but i also installed <a href="https://flask-cors.readthedocs.io/en/latest/">this library</a> to handle the CORS requests.</li>
</ol>
<p>basically i had to enable in my server this line of code (after installing the library properly):
<code class="language-text">cors = CORS(app, resources={r"/api/*": {"origins": "*"}})</code></p>
<p>after getting the server working, i started on the front-end. i had to create a request using <code class="language-text">fetch()</code> and pass in the CORS header there as well. i tried using the header <code class="language-text">mode: 'no-cors'</code> but it appears to have an issue reading the JSON object and not passing the header correctly. it was a two-sided process, figuring out to set the server to accept and also sending the correct header in the first place. </p>
<div class="gatsby-highlight" data-language="text"><pre class="language-text"><code class="language-text">const response = await fetch("https://planet-green-flute.glitch.me/", {
    method: "GET",
    mode: "cors",
    headers: {
      "Access-Control-Allow-Origin": "*",
    },
  })</code></pre></div>
<p>with that, my server and client were interacting the way i wanted to and i was able to port over the components of my cut up that i liked. this entailed pulling the python code <a href="https://github.com/samheckle/rwet/blob/master/final/final.ipynb">which i tested in this jupyter notebook</a>  and putting it up on the server, then ensuring the format of what was being sent was correct.</p>
<p>on the client side, i parsed the data by each word in the response, and then set the position and design superimposed on top of an illustration from the original book “The Tale of Benjamin Bunny”. i manually had to download these images because it was too much effort to try and script something where i could spend 20 minutes doing myself. perhaps later i will incorporate this as a feature, but i struggled to find a place that hosted the images themselves where i could easily make a request to.</p>
<h2>final</h2>
<p><span
      class="gatsby-resp-image-wrapper"
      style="position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 590px; "
    >
      <a
    class="gatsby-resp-image-link"
    href="/blog/static/c09b725b899320dfc5be270246c3d4bc/29114/example.png"
    style="display: block"
    target="_blank"
    rel="noopener"
  >
    <span
    class="gatsby-resp-image-background-image"
    style="padding-bottom: 56.08108108108109%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAALCAYAAAB/Ca1DAAAACXBIWXMAAAsTAAALEwEAmpwYAAAC/klEQVQozx2T7W9TdRTH+0f4kvhCX/IXmEmymIhvDJFkEmJi5GFmy3SLATQ0xkgmbjBhiBMdpjWb0oUFNyxlrGW4zdZ2LGUN7ege2gJ3D13bu3tve/t0d3tbPv66k5yc5OSb8/A932OrNxpU1Dyp8FPkRBL1ZYpM8iXqRhazWqPeqGNZwusWdRHL+SIFVaOUr5B5vk16ZRNDfYVRru1jbFVZIfMowPzvl3kenGYnFuRFeI7taITSjoZZqe4DLdOiqpQppmWUeJL7rmHOtrdy9J03GHeMsKc2MA0TWzGxTDr8D8teB6E/LrDodpL0/4W08BAltU0uGhST7WEWTeSUxJMHo/SdPMTFM0c5c/ptPnrvNdoOHyDy72Oogc2qFpHmPCyNXmV22M7UL0OEJl2sz94VjZZYdd+kquWolRvMTTjpPvY69vYWLnW3cOGLVq70dtH54ZsM953DyFvNggZpf5DADSdBsfbMoIN7P46zcOcWUc9N5GdhDH2XsloU/Ma5feMr7J0fcLrtIOc+PUSv/RN62t+n5+MWIvPT2MxSmdKLNXaeBondHyf0qwPfoBP/yB22Yl6K2xL1Wo3irsxm1I2SWOTny+dpbT3I8SNv0XHiXbo7jjBwvg3fn99jq+RzKFJSHMRL5PE6Ya+XpYnfCM96yKwGqGR2aADaRpxsbAp5JcSCz43LcZ1vzx7n6jencPSfwnW9m1vXPhcFdZlsIoYuRXky7SHgnmTF72b1v0lKkiy4M2naM8Hz2NCXxOZdSIszLD4YY+Z2PxPO7xjq66LffoxB4TbLNFGTYdLN7suP2PD7SM35hHwSVOQSlli3aVsrcVwDHYwO9hB5eJd7zouMDHzGla9P8FNvJ44fughMDWNrCGFXtawQ8hp7BZlKNkdha5dCriyKCTHXm8K24BWiQY7cegxpOUxA8D379xihGQ+ba3H0XGYfYyuJo6iaSj6voKk5VFVBEZ/TdE3TRE5jzzAwayYFXUfXy+QLzSg+Rq8IvIGyWxKxIHI6/wNPBNXG4Q8wswAAAABJRU5ErkJggg=='); background-size: cover; display: block;"
  ></span>
  <img
        class="gatsby-resp-image-image"
        alt="example"
        title="example"
        src="/blog/static/c09b725b899320dfc5be270246c3d4bc/fcda8/example.png"
        srcset="/blog/static/c09b725b899320dfc5be270246c3d4bc/12f09/example.png 148w,
/blog/static/c09b725b899320dfc5be270246c3d4bc/e4a3f/example.png 295w,
/blog/static/c09b725b899320dfc5be270246c3d4bc/fcda8/example.png 590w,
/blog/static/c09b725b899320dfc5be270246c3d4bc/efc66/example.png 885w,
/blog/static/c09b725b899320dfc5be270246c3d4bc/c83ae/example.png 1180w,
/blog/static/c09b725b899320dfc5be270246c3d4bc/29114/example.png 1920w"
        sizes="(max-width: 590px) 100vw, 590px"
        style="width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;"
        loading="lazy"
      />
  </a>
    </span></p>
<hr>
<h1>resources</h1>
<p><a href="https://github.com/aparrish/material-of-language/blob/master/standalone-and-webapps.ipynb">how to host on glitch - a tutorial by allison</a>
<a href="https://glitch.com/~minimal-python3-flask">glitch flask python starter code</a>
<a href="https://www.geeksforgeeks.org/filter-in-python/">filtering in python</a>
<a href="https://realpython.com/python-lambda/">lambda in python</a>
<a href="https://dev.to/matheusguimaraes/fast-way-to-enable-cors-in-flask-servers-42p0">tutorial for enabling cors in flask</a>
<a href="https://developer.mozilla.org/en-US/docs/Web/API/Fetch_API/Using_Fetch">fetch in HTML5</a>
<a href="https://stackoverflow.com/questions/45696999/fetch-unexpected-end-of-input">fetch debugging w end of input with no-cors</a></p></section><hr style="margin-bottom:1px"/><div style="display:flex;margin-bottom:2.5px"><p>a blog by <strong>sam heckle</strong> <!-- -->class of itp 2022. doing shit.<!-- --> <a href="https://twitter.com/samheckle">twitter.</a></p></div></article><nav><ul style="display:flex;flex-wrap:wrap;justify-content:space-between;list-style:none;padding:0"><li><a rel="prev" href="/blog/projects/generated-poems-on-intimacy/">← <!-- -->markov chains</a></li><li><a rel="next" href="/blog/projects/itp-thesis-2022/">dont look for the love of god<!-- --> →</a></li></ul></nav></main></div></div><div id="gatsby-announcer" style="position:absolute;top:0;width:1px;height:1px;padding:0;overflow:hidden;clip:rect(0, 0, 0, 0);white-space:nowrap;border:0" aria-live="assertive" aria-atomic="true"></div></div><script id="gatsby-script-loader">/*<![CDATA[*/window.pagePath="/projects/blackout-beatrice-potter/";/*]]>*/</script><script id="gatsby-chunk-mapping">/*<![CDATA[*/window.___chunkMapping={"polyfill":["/polyfill-57fa76c8ad53bd44c5a1.js"],"app":["/app-22e8d967b4d0a2ad740f.js"],"component---src-pages-404-js":["/component---src-pages-404-js-c6dd88492b94f90cf31b.js"],"component---src-pages-index-js":["/component---src-pages-index-js-883066ed84fdd5e0c1d0.js"],"component---src-templates-blog-post-js":["/component---src-templates-blog-post-js-f63130200fa67a8a732c.js"]};/*]]>*/</script><script src="/blog/polyfill-57fa76c8ad53bd44c5a1.js" nomodule=""></script><script src="/blog/component---src-templates-blog-post-js-f63130200fa67a8a732c.js" async=""></script><script src="/blog/commons-b8c95257fc58db9d1d01.js" async=""></script><script src="/blog/styles-e9d24b1846c7d6eb9685.js" async=""></script><script src="/blog/app-22e8d967b4d0a2ad740f.js" async=""></script><script src="/blog/framework-dbb498007a7447f28d8e.js" async=""></script><script src="/blog/webpack-runtime-d229948c5c9eedd36cc6.js" async=""></script></body></html>